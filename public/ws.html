<html>
    <head>
        <title>ws</title>
    </head>
    <body>
        <h1>tmp</h1>
        <script>
            var loc = window.location, new_uri;
            if (loc.protocol === "https:") {
                new_uri = "wss:";
            } else {
                new_uri = "ws:";
            }
            new_uri += "//" + loc.hostname + ":40510";
            var ws = new WebSocket(new_uri);
        
            // event emmited when connected
            ws.onopen = function () {
                console.log('websocket is connected ...')
        
                // sending a send event to websocket server
                ws.send('connected')
            }
        
            // event emmited when receiving message 
            ws.onmessage = function (ev) {
                console.log(ev.data);
                window.open(ev.data, "_blank");
            }
        </script>
    </body>
</html>